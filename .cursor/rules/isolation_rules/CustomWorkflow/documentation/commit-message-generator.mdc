---
description: "Apply this rule when generating structured commit messages based on completed tasks. Creates standardized commit messages following conventional commit format with task context and change details for Memory Bank workflow."
globs: "**/**"
alwaysApply: false
---

# COMMIT MESSAGE GENERATOR

> **TL;DR:** –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç `reflection.md` –∏ `tasks.md` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–∏—Ç–∞ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É Conventional Commits.

## üìù –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```mermaid
graph TD
    Start["‚ñ∂Ô∏è Start Commit Generation"] --> ReadDocs["1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å reflection.md –∏ tasks.md"]
    ReadDocs --> Analyze["2. –ò–∑–≤–ª–µ—á—å: —Ç–∏–ø, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏—Ç–æ–≥–∏"]
    Analyze --> DetermineType{"3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø<br>(feat, fix, docs, chore, refactor)"}
    DetermineType --> Construct["4. –°–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"]
    Construct --> Output["5. –í—ã–≤–µ—Å—Ç–∏ –≥–æ—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç"]

    style Start fill:#4da6ff,stroke:#0066cc,color:white
    style Output fill:#5fd94d,stroke:#3da336,color:white
```

## üìã –®–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∫–æ–º–º–∏—Ç–∞

–Ø –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–±–ª–æ–Ω:

```
[type]([scope]): [–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º]

[–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –û–ø–∏—Å—ã–≤–∞–µ—Ç, –ß–¢–û –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –∏ –ü–û–ß–ï–ú–£. –û—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `reflection.md`.]

- –ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ 1
- –ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ 2
- –ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ 3

BREAKING CHANGE: [–û–ø–∏—Å–∞–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è]

Closes #[–ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –≤ —Ç—Ä–µ–∫–µ—Ä–µ, –µ—Å–ª–∏ –µ—Å—Ç—å]
```

### –ü—Ä–∏–º–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:

```
feat(auth): add step-by-step and universal modes

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–≤–∞ –Ω–æ–≤—ã—Ö —Ä–µ–∂–∏–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—á–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º:
- `UNIVERSAL`: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º ("–∞–≤—Ç–æ–ø–∏–ª–æ—Ç") –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- `STEP_BY_STEP`: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º, –æ–∂–∏–¥–∞—é—â–∏–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã.

–û–±–∞ —Ä–µ–∂–∏–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, `interaction-mode` –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏. –≠—Ç–æ –Ω–æ–≤–æ–≤–≤–µ–¥–µ–Ω–∏–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ —É—Ä–æ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã.
```

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–∞, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ —Ñ–∞–π–ª `_commit_message.txt` –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `release` –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏.

```bash
# –ü—Å–µ–≤–¥–æ–∫–æ–¥ –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

commit_message_file=$(get_commit_message_file_path)
if [ -z "$commit_message_file" ]; then
  echo "‚ùå No active task. Cannot save commit message." >&2
  exit 1
fi

mkdir -p "$(dirname "$commit_message_file")"

# –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ `generated_commit_message` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
# edit_file("$commit_message_file", generated_commit_message)

echo "‚úÖ Commit message saved to: $commit_message_file"
```